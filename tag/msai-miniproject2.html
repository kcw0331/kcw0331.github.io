<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Msai Miniproject2 - 꿈을 향해 나아가자!</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- 웹폰트 추가 -->
    <link rel="stylesheet" href="http://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- syntax.css 추가 -->
<!--    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />-->

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="창우의 아이티블로그" />
    <link rel="shortcut icon" href="http://localhost:4000/assets/built/images/favicon.jpg" type="image/png" />
    <link rel="canonical" href="http://localhost:4000/tag/msai-miniproject2" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="꿈을 향해 나아가자!" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Msai Miniproject2 - 꿈을 향해 나아가자!" />
    <meta property="og:description" content="MSAISchool 공부에 대한 내용을 작성해 보았다. Msai - 1주차(1) Msai - 1주차(2) Msai - 1주차(3) Msai - 포커이미지 분류 Msai - 미니프로젝트 2 MMDetection(Wine Label Datasets) and JSON to yolov5 Msai - 미니프로젝트 3 MMDetection(Animal Datasets) Msai - 공부하면서 알게된 것 1 미니 프로젝트 2 1. MMDetection 학습 실습 진행" />
    <meta property="og:url" content="http://localhost:4000/tag/msai-miniproject2" />
    <meta property="og:image" content="http://localhost:4000/assets/built/images/microsoft_logo.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2023-01-30T09:40:00+09:00" />
    <meta property="article:modified_time" content="2023-01-30T09:40:00+09:00" />
    <meta property="article:tag" content="Msai" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Msai Miniproject2 - 꿈을 향해 나아가자!" />
    <meta name="twitter:description" content="MSAISchool 공부에 대한 내용을 작성해 보았다. Msai - 1주차(1) Msai - 1주차(2) Msai - 1주차(3) Msai - 포커이미지 분류 Msai - 미니프로젝트 2 MMDetection(Wine Label Datasets) and JSON to yolov5 Msai - 미니프로젝트 3 MMDetection(Animal Datasets) Msai - 공부하면서 알게된 것 1 미니 프로젝트 2 1. MMDetection 학습 실습 진행" />
    <meta name="twitter:url" content="http://localhost:4000/" />
    <meta name="twitter:image" content="http://localhost:4000/assets/built/images/microsoft_logo.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="꿈을 향해 나아가자!" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Msai" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "꿈을 향해 나아가자!",
        "logo": "http://localhost:4000/"
    },
    "url": "http://localhost:4000/tag/msai-miniproject2",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:4000/assets/built/images/microsoft_logo.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/tag/msai-miniproject2"
    },
    "description": "MSAISchool 공부에 대한 내용을 작성해 보았다. Msai - 1주차(1) Msai - 1주차(2) Msai - 1주차(3) Msai - 포커이미지 분류 Msai - 미니프로젝트 2 MMDetection(Wine Label Datasets) and JSON to yolov5 Msai - 미니프로젝트 3 MMDetection(Animal Datasets) Msai - 공부하면서 알게된 것 1 미니 프로젝트 2 1. MMDetection 학습 실습 진행"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Msai - 미니프로젝트 2 MMDetection(Wine Label Datasets) and JSON to yolov5" href="/feed.xml" />


    <!--  2023년 2월 21일 블로그에 수식이 안되서 적은 아래 2개코드 -->
    

</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="http://localhost:4000/">꿈을 향해 나아가자!</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-jekyll" role="menuitem"><a href="/tag/jekyll/">Jekyll</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/python/">Python</a></li>
    <li class="nav-msai" role="menuitem"><a href="/tag/msai/">Msai</a></li>
    <li class="nav-coding" role="menuitem"><a href="/tag/coding/">Coding</a></li>
    <li class="nav-paper" role="menuitem"><a href="/tag/paper/">Paper</a></li>
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>
</ul>
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-msai post tag-msai ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="30 January 2023">30 January 2023</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/msai/'>MSAI</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Msai - 미니프로젝트 2 MMDetection(Wine Label Datasets) and JSON to yolov5</h1>
            </header>

            <!--
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/microsoft_logo.jpg)">
            </figure>
            
            -->

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p><span class="table-of-contents-list">MSAISchool 공부에 대한 내용을 작성해 보았다. </span></p>
<ul class="table-of-contents-list">
    <li><a href="./msai-1weeks(1)">Msai - 1주차(1)</a></li>
    <li><a href="./msai-1weeks(2)">Msai - 1주차(2)</a></li>
    <li><a href="./msai-1weeks(3)">Msai - 1주차(3)</a></li>
    <li><a href="./msai-pokerimageclassification">Msai - 포커이미지 분류</a></li>
    <li><a href="./msai-miniproject2">Msai - 미니프로젝트 2 MMDetection(Wine Label Datasets) and JSON to yolov5</a></li>
    <li><a href="./msai-miniproject3">Msai - 미니프로젝트 3 MMDetection(Animal Datasets)</a></li>
    <li><a href="./msai-studyknow">Msai - 공부하면서 알게된 것 1</a></li>
</ul>

<h2 id="-미니-프로젝트-2-"><center> 미니 프로젝트 2 </center></h2>
<h3 id="1-mmdetection-학습-실습-진행">1. MMDetection 학습 실습 진행</h3>
<h3 id="2023년-1월-30일월">2023년 1월 30일(월)</h3>

<h3 id="1-mmdetection-설치">1. MMDetection 설치</h3>

<h4 id="1-가상환경-구축">1) 가상환경 구축</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># mmdetection 가상환경을 새로 만들어 준다.
conda create -n mmdetection python=3.8
</code></pre></div></div>

<h4 id="2-pytorch-설치">2) Pytorch 설치</h4>

<ul>
  <li>MS 가상환경 기준 cuda 11.3</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install torch==1.11.0+cu113 torchvision==0.12.0+cu113 torchaudio==0.11.0 --extra-index-url https://download.pytorch.org/whl/cu113
</code></pre></div></div>

<h4 id="3-mmdectation-홈페이지에서-pytorch의-버전과-cuda의-버전을-맞추어서-설치를-해준다">3) mmdectation 홈페이지에서 pytorch의 버전과 cuda의 버전을 맞추어서 설치를 해준다.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://mmcv.readthedocs.io/en/latest/get_started/installation.html
pip install mmcv-full==1.6.2 -f https://download.openmmlab.com/mmcv/dist/cu113/torch1.11/index.html
</code></pre></div></div>

<h4 id="4-git에서-받아오는게-있다">4) git에서 받아오는게 있다.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>바탕화면에 git clone https://github.com/open-mmlab/mmdetection.git 을 하고
</code></pre></div></div>

<h4 id="5-경로를-다운-받은-폴더로-하고-requirements에-있는-buildtxt를-기준으로-다운을-받아준다">5) 경로를 다운 받은 폴더로 하고 requirements에 있는 build.txt를 기준으로 다운을 받아준다.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install -r requirements/build.txt
</code></pre></div></div>

<h4 id="6-pip의-패키지를-다-설치해줌">6) pip의 패키지를 다 설치해줌</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install -v -e . # &lt;- pip의 패키지를 다 설치하는 것이다.
</code></pre></div></div>

<h4 id="7-위에-pip-install--v--e-를-설치하고-아래-코드를-설치해준다">7) 위에 pip install -v -e .를 설치하고 아래 코드를 설치해준다.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install mmdet
</code></pre></div></div>

<h4 id="8-faster_rcnn_r50_fpn_1x_coco_20200130-047c8118pth----이거를-mmdetection파일에-집어-넣어-주었다">8) faster_rcnn_r50_fpn_1x_coco_20200130-047c8118.pth # -&gt; 이거를 mmdetection파일에 집어 넣어 주었다.</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://github.com/open-mmlab/mmdetection/tree/master/configs/faster_rcnn
</code></pre></div></div>

<h4 id="9-설치-되어-있지-않은-pillow를-설치">9) 설치 되어 있지 않은 Pillow를 설치</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install Pillow
</code></pre></div></div>

<h4 id="10-opencv를-설치">10) opencv를 설치</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip install opencv-python==4.5.5.64
</code></pre></div></div>

<hr />

<h3 id="2-wine-라벨-이미지-데이터-사용">2. Wine 라벨 이미지 데이터 사용</h3>

<h4 id="1-mmdetection에서-dynamic_rcnn을-사용">1) MMDetection에서 Dynamic_rcnn을 사용</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 첫 번째
# 2023년 1월 30일 mmdetection 오전 수업
# 미니프로젝트에서 wine 라벨 이미지를 사용했던거를 coco데이터를 사용해준다.
# 필요한 패키지를 추가해주었다.
</span><span class="kn">import</span> <span class="nn">mmcv</span>
<span class="kn">import</span> <span class="nn">torch</span>

<span class="kn">from</span> <span class="nn">mmdet.apis</span> <span class="kn">import</span> <span class="n">init_detector</span><span class="p">,</span> <span class="n">inference_detector</span>
<span class="kn">from</span> <span class="nn">mmdet.datasets.builder</span> <span class="kn">import</span> <span class="n">DATASETS</span>
<span class="kn">from</span> <span class="nn">mmdet.datasets.coco</span> <span class="kn">import</span> <span class="n">CocoDataset</span>
<span class="kn">from</span> <span class="nn">mmdet.datasets</span> <span class="kn">import</span> <span class="n">build_dataset</span>
<span class="kn">from</span> <span class="nn">mmdet.models</span> <span class="kn">import</span> <span class="n">build_detector</span>
<span class="kn">from</span> <span class="nn">mmdet.apis</span> <span class="kn">import</span> <span class="n">set_random_seed</span>
<span class="kn">from</span> <span class="nn">mmdet.apis</span> <span class="kn">import</span> <span class="n">train_detector</span>
<span class="kn">from</span> <span class="nn">mmdet.utils</span> <span class="kn">import</span> <span class="n">collect_env</span><span class="p">,</span> <span class="n">get_root_logger</span><span class="p">,</span> <span class="n">setup_multi_processes</span>
<span class="kn">from</span> <span class="nn">mmcv.runner</span> <span class="kn">import</span> <span class="n">get_dist_info</span><span class="p">,</span> <span class="n">init_dist</span>
<span class="kn">from</span> <span class="nn">mmcv</span> <span class="kn">import</span> <span class="n">Config</span>
</code></pre></div></div>

<h4 id="2-mmdetection파일에-있다고-기준으로-mmdetdatasetscocopy에-있는-classes를-간접적으로-수정">2) mmdetection파일에 있다고 기준으로 ./mmdet/datasets/coco.py에 있는 CLASSES를 간접적으로 수정</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 두 번째
# Dataset regiset 데이터 셋에 등록이 필요하다
# 포맷 자체가 CoCo데이터 셋을 가져온다.
</span><span class="o">@</span><span class="n">DATASETS</span><span class="p">.</span><span class="n">register_module</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">WineLabelDataset</span><span class="p">(</span><span class="n">CocoDataset</span><span class="p">):</span> <span class="c1"># 상속을 받게 된다.
</span>    <span class="c1"># CoCo데이터 셋에는 클래스가 1,000개인데, 우리가 원하는 클래스를 지정해준다
</span>    <span class="n">CLASSES</span> <span class="o">=</span> <span class="p">(</span><span class="s">'wine-labels'</span><span class="p">,</span> <span class="s">'AlcoholPercentage'</span><span class="p">,</span> <span class="s">'Appellation AOC DOC AVARegion'</span><span class="p">,</span> <span class="s">'Appellation QualityLevel'</span><span class="p">,</span> <span class="s">'CountryCountry'</span><span class="p">,</span>
            <span class="s">'Distinct Logo'</span><span class="p">,</span> <span class="s">'Established YearYear'</span><span class="p">,</span> <span class="s">'Maker-Name'</span><span class="p">,</span> <span class="s">'Organic'</span><span class="p">,</span> <span class="s">'Sustainable'</span><span class="p">,</span> <span class="s">'Sweetness-Brut-SecSweetness-Brut-Sec'</span><span class="p">,</span>
            <span class="s">'TypeWine Type'</span><span class="p">,</span> <span class="s">'VintageYear'</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="3-from-mmcv-import-config를-사용하여-config파일을-읽어-들인다">3) from mmcv import Config를 사용하여 config파일을 읽어 들인다.</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 세 번째
# config
# config파일을 불러와야 한다
</span><span class="n">config_file</span> <span class="o">=</span> <span class="s">'./configs/dynamic_rcnn/dynamic_rcnn_r50_fpn_1x_coco.py'</span> <span class="c1"># 해당하는 아키텍처를 가져온다.(faster_rcnn을 많이 쓴다. dynamic_rcnn도 많이 쓴다., centernet, mask_rcnn은 세그멘테이션에서 사용한다., cascade_rcnn도 많이 쓴다.(cascade_rcnn_r50_fpn_1x_coco.py많이씀))
</span><span class="n">cfg</span> <span class="o">=</span> <span class="n">Config</span><span class="p">.</span><span class="n">fromfile</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span> <span class="c1"># config를 읽어 들인다.
# 어디에 num_classes가 있는지 확인을 해야 한다.
# 아래 print(cfg.pretty_text)를 사용해서
# print(cfg.pretty_text) # 해당하는 파일들을 가져온다.
</span>
<span class="c1"># Learning rate setting
# single GPU -&gt; 0.0025
# cfg.optimizer.lr = 0.02/8 &lt;- 보통은 8개 GPU를 사용하기 때문에 이렇게 해준다.
</span><span class="n">cfg</span><span class="p">.</span><span class="n">optimizer</span><span class="p">.</span><span class="n">lr</span> <span class="o">=</span> <span class="mf">0.0025</span> <span class="c1"># learning rate를 설정해준다.
</span></code></pre></div></div>

<h4 id="4-configsdatasetscoco_detectionpy에-있는-dataset_type-data_root-traintype-trainann_file-trainimg_prefixval-test도-train하고-똑같이을-간접적으로-수정">4) ./configs/datasets/coco_detection.py에 있는 dataset_type, data_root, train.type, train.ann_file, train.img_prefix(val, test도 train하고 똑같이)을 간접적으로 수정</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 네 번째
# dataset setting
# 데이터 셋을 설정해준다
</span><span class="n">cfg</span><span class="p">.</span><span class="n">dataset_type</span> <span class="o">=</span> <span class="s">"WineLabelDataset"</span> <span class="c1"># coco_detection.py에 있는 것을 바꾸어준다.
</span><span class="n">cfg</span><span class="p">.</span><span class="n">data_root</span> <span class="o">=</span> <span class="s">"./dataset"</span> <span class="c1"># 루트를 지정해준다.
</span>
<span class="c1"># train, val, test dataset &gt;&gt; type data root and file img_prefix setting
# coco_detection.py에 있는 3가지(type, ann_file, img_prefix) 부분을 변경해준다
# 경로 설정을 해준다. coco_detection.py에 있는
# agmentation을 해주려면 train_pipeline쪽에서 수정을 해주어야 한다.
# trian 작성
</span><span class="n">cfg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">train</span><span class="p">.</span><span class="nb">type</span> <span class="o">=</span> <span class="s">"WineLabelDataset"</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">train</span><span class="p">.</span><span class="n">ann_file</span> <span class="o">=</span> <span class="s">"./dataset/train/_annotations.coco.json"</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">train</span><span class="p">.</span><span class="n">img_prefix</span> <span class="o">=</span> <span class="s">"./dataset/train/"</span> <span class="c1"># 데이터셋만 지정하면 뒤에 알아서 train이 붙는다.
</span>
<span class="c1"># val 작성
</span><span class="n">cfg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">val</span><span class="p">.</span><span class="nb">type</span> <span class="o">=</span> <span class="s">"WineLabelDataset"</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">val</span><span class="p">.</span><span class="n">ann_file</span> <span class="o">=</span> <span class="s">"./dataset/valid/_annotations.coco.json"</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">val</span><span class="p">.</span><span class="n">img_prefix</span> <span class="o">=</span> <span class="s">"./dataset/valid/"</span>

<span class="c1"># test 작성
</span><span class="n">cfg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="nb">type</span> <span class="o">=</span> <span class="s">"WineLabelDataset"</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">ann_file</span> <span class="o">=</span> <span class="s">"./dataset/test/_annotations.coco.json"</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">img_prefix</span> <span class="o">=</span> <span class="s">"./dataset/test/"</span>            
</code></pre></div></div>

<h4 id="5-configsmodelsfaser_rcnn_r50_fpnpy에-있는-roi_headbbox_headnum_classes-rpn_headanchor_generatorscales를-간접적으로-수정">5) ./configs/models/faser_rcnn_r50_fpn.py에 있는 roi_head.bbox_head.num_classes, rpn_head.anchor_generator.scales를 간접적으로 수정</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 다섯 번째
# class number
# 항상 이 부분을 주의해야 한다.
# faster_rcnn_r50_fpn.py에서 수정을 해준다.
# 로이 안에서 80인 부분은 13으로 변경해준다.
# 접근 방식을 .으로 접근하면 된다.
</span><span class="n">cfg</span><span class="p">.</span><span class="n">model</span><span class="p">.</span><span class="n">roi_head</span><span class="p">.</span><span class="n">bbox_head</span><span class="p">.</span><span class="n">num_classes</span> <span class="o">=</span> <span class="mi">13</span>

<span class="c1"># 8로하게 되면 작은 물체가 더 작아지기 때문에 4로 수정한다.
# small object -&gt; change anchor -&gt; df : size 8 -&gt; size 4로 수정한다
# 8이면 스케일이 켜지는 것인데 작은 이미지는 더 작아지게 되므로 4로 하게 해주었다.(안그러면 작은 데이터를 더 작게 만든다.)
</span><span class="n">cfg</span><span class="p">.</span><span class="n">model</span><span class="p">.</span><span class="n">rpn_head</span><span class="p">.</span><span class="n">anchor_generator</span><span class="p">.</span><span class="n">scales</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">]</span>        
</code></pre></div></div>

<h4 id="6-from-mmcv-import-config의-configpy를-사용하여-아래-코드를-적용해준다">6) from mmcv import Config의 config.py를 사용하여 아래 코드를 적용해준다.</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 여섯 번째
# pretrained call
# pretrained를 가져온다. 모듈을 가져온다. 아키텍처에 해당하는 pth파일을 가져와야 한다.
</span><span class="n">cfg</span><span class="p">.</span><span class="n">load_from</span> <span class="o">=</span> <span class="s">"./dynamic_rcnn_r50_fpn_1x-62a3f276.pth"</span>

<span class="c1"># train model save dir
# train 모델을 저장하는 경로를 지정한다. (모델을 저장할 공간을 설정해준다.)
</span><span class="n">cfg</span><span class="p">.</span><span class="n">work_dir</span> <span class="o">=</span> <span class="s">"./work_dirs/0103"</span>

<span class="c1"># lr, hyp setting
# 러닝 레이트랑 하이퍼파라메타를 세팅한다.
</span><span class="n">cfg</span><span class="p">.</span><span class="n">lr_config</span><span class="p">.</span><span class="n">warmup</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">log_config</span><span class="p">.</span><span class="n">interval</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># 10번째 마나 띄워준다. # 어느정도에서 볼지 정해준다.
</span>
<span class="c1"># coco dataset evaluation type = bbox
# coco 데이터 셋 평가 타입을 bbox로 잡는다. (그러면 0.5 ~ 0.95사이의 값을 갖는다.)
# mAP iou threshold 0.5 ~ 0.95
</span><span class="n">cfg</span><span class="p">.</span><span class="n">evaluation</span><span class="p">.</span><span class="n">metric</span> <span class="o">=</span> <span class="s">'bbox'</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">evaluation</span><span class="p">.</span><span class="n">interval</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># 언제쯤 볼지 정해준다.
</span><span class="n">cfg</span><span class="p">.</span><span class="n">checkpoint_config</span><span class="p">.</span><span class="n">interval</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># 언제쯤 저장을 해줄지 해주는 것이다.
# 투스테이션에서는 best를 뽑을 수는 없다.
</span>
<span class="c1"># epoch setting
# 보통 8 x 12정도로 하게 된다. -&gt; 96(8개 GPU를 사용할 때, 12번 돌린다)
# num work랑 gpu를 설정해주는 방법이다.
</span><span class="n">cfg</span><span class="p">.</span><span class="n">runner</span><span class="p">.</span><span class="n">max_epochs</span> <span class="o">=</span> <span class="mi">88</span> <span class="c1"># 90정도의 에포크를 돌린다. 데이터가 충분히 있다면 88정도 해주어도 괜찮다.
</span><span class="n">cfg</span><span class="p">.</span><span class="n">seed</span> <span class="o">=</span> <span class="mi">777</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">samples_per_gpu</span> <span class="o">=</span> <span class="mi">6</span> <span class="c1"># 싱글로 할 때는 6하고 2는 고정이다.
</span><span class="n">cfg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">workers_per_gpu</span> <span class="o">=</span> <span class="mi">2</span>
<span class="k">print</span><span class="p">(</span><span class="s">"cfg.data &gt;&gt;"</span><span class="p">,</span> <span class="n">cfg</span><span class="p">.</span><span class="n">data</span><span class="p">)</span>
<span class="n">cfg</span><span class="p">.</span><span class="n">gpu_ids</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># gpu가 몇개인지 개수를 파악하는 것이다.
</span><span class="n">cfg</span><span class="p">.</span><span class="n">device</span> <span class="o">=</span> <span class="s">"cuda"</span>
<span class="n">set_random_seed</span><span class="p">(</span><span class="mi">777</span><span class="p">,</span> <span class="n">deterministic</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">"cfg info show"</span><span class="p">,</span> <span class="n">cfg</span><span class="p">.</span><span class="n">pretty_text</span><span class="p">)</span>

<span class="n">datasets</span> <span class="o">=</span> <span class="p">[</span><span class="n">build_dataset</span><span class="p">((</span><span class="n">cfg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">train</span><span class="p">))]</span> <span class="c1"># 트레인용 데이터 셋을 생성하는 것이다.
</span><span class="k">print</span><span class="p">(</span><span class="s">"dataset[0]"</span><span class="p">,</span> <span class="n">datasets</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

<span class="c1"># datasets[0].__dict__ variables key val
</span><span class="n">datasets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">__dict__</span><span class="p">.</span><span class="n">keys</span><span class="p">()</span>

<span class="c1"># 모델을 불러주는 것이다.
</span><span class="n">model</span> <span class="o">=</span> <span class="n">build_detector</span><span class="p">(</span><span class="n">cfg</span><span class="p">.</span><span class="n">model</span><span class="p">,</span> <span class="n">train_cfg</span><span class="o">=</span><span class="n">cfg</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"train_cfg"</span><span class="p">),</span>
                    <span class="n">test_cfg</span><span class="o">=</span><span class="n">cfg</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'test_cfg'</span><span class="p">))</span>
<span class="n">model</span><span class="p">.</span><span class="n">CLASSES</span> <span class="o">=</span> <span class="n">datasets</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">CLASSES</span>
<span class="k">print</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">CLASSES</span><span class="p">)</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">"__main__"</span><span class="p">:</span>
    <span class="n">train_detector</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">datasets</span><span class="p">,</span> <span class="n">cfg</span><span class="p">,</span> <span class="n">distributed</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">validate</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="3-json-데이터를-yolo-학습-데이터-구축">3. JSON 데이터를 yolo 학습 데이터 구축</h2>

<h3 id="1-json-데이터를-yolo-학습-데이터-구축-코드">1) JSON 데이터를 yolo 학습 데이터 구축 코드</h3>

<p><a href="https://haobin-tan.netlify.app/ai/computer-vision/object-detection/coco-json-to-yolo-txt/">참고 블로그</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>
<span class="kn">import</span> <span class="nn">shutil</span>


<span class="k">def</span> <span class="nf">convert_bbox_coco2yolo</span><span class="p">(</span><span class="n">img_width</span><span class="p">,</span> <span class="n">img_height</span><span class="p">,</span> <span class="n">bbox</span><span class="p">):</span>
<span class="s">"""
Convert bounding box from COCO  format to YOLO format

Parameters
----------
img_width : int
        width of image
img_height : int
        height of image
bbox : list[int]
        bounding box annotation in COCO format:
        [top left x position, top left y position, width, height]

Returns
-------
list[float]
        bounding box annotation in YOLO format:
        [x_center_rel, y_center_rel, width_rel, height_rel]
"""</span>

<span class="c1"># YOLO bounding box format: [x_center, y_center, width, height]
# (float values relative to width and height of image)
</span><span class="n">x_tl</span><span class="p">,</span> <span class="n">y_tl</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">bbox</span>

<span class="n">dw</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">img_width</span>
<span class="n">dh</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">img_height</span>

<span class="n">x_center</span> <span class="o">=</span> <span class="n">x_tl</span> <span class="o">+</span> <span class="n">w</span> <span class="o">/</span> <span class="mf">2.0</span>
<span class="n">y_center</span> <span class="o">=</span> <span class="n">y_tl</span> <span class="o">+</span> <span class="n">h</span> <span class="o">/</span> <span class="mf">2.0</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">x_center</span> <span class="o">*</span> <span class="n">dw</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">y_center</span> <span class="o">*</span> <span class="n">dh</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">w</span> <span class="o">*</span> <span class="n">dw</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">h</span> <span class="o">*</span> <span class="n">dh</span>

<span class="k">return</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">make_folders</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s">"output"</span><span class="p">):</span>
<span class="k">if</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
        <span class="n">shutil</span><span class="p">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="n">os</span><span class="p">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="k">return</span> <span class="n">path</span>

<span class="k">def</span> <span class="nf">convert_coco_json_to_yolo_txt</span><span class="p">(</span><span class="n">output_path</span><span class="p">,</span> <span class="n">json_file</span><span class="p">):</span>

<span class="n">path</span> <span class="o">=</span> <span class="n">make_folders</span><span class="p">(</span><span class="n">output_path</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">json_data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="n">label_file</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_path</span><span class="p">,</span> <span class="s">"_darknet.labels"</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">label_file</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">json_data</span><span class="p">[</span><span class="s">"categories"</span><span class="p">],</span> <span class="n">desc</span><span class="o">=</span><span class="s">"Categores"</span><span class="p">):</span>
        <span class="n">category_name</span> <span class="o">=</span> <span class="n">category</span><span class="p">[</span><span class="s">"name"</span><span class="p">]</span>
        <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">category_name</span><span class="si">}</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>

<span class="k">for</span> <span class="n">image</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">json_data</span><span class="p">[</span><span class="s">"images"</span><span class="p">],</span> <span class="n">desc</span><span class="o">=</span><span class="s">"Annotation txt for each image"</span><span class="p">):</span>
        <span class="n">img_id</span> <span class="o">=</span> <span class="n">image</span><span class="p">[</span><span class="s">"id"</span><span class="p">]</span>
        <span class="n">img_name</span> <span class="o">=</span> <span class="n">image</span><span class="p">[</span><span class="s">"file_name"</span><span class="p">]</span>
        <span class="n">img_width</span> <span class="o">=</span> <span class="n">image</span><span class="p">[</span><span class="s">"width"</span><span class="p">]</span>
        <span class="n">img_height</span> <span class="o">=</span> <span class="n">image</span><span class="p">[</span><span class="s">"height"</span><span class="p">]</span>

        <span class="n">anno_in_image</span> <span class="o">=</span> <span class="p">[</span><span class="n">anno</span> <span class="k">for</span> <span class="n">anno</span> <span class="ow">in</span> <span class="n">json_data</span><span class="p">[</span><span class="s">"annotations"</span><span class="p">]</span> <span class="k">if</span> <span class="n">anno</span><span class="p">[</span><span class="s">"image_id"</span><span class="p">]</span> <span class="o">==</span> <span class="n">img_id</span><span class="p">]</span>
        <span class="n">anno_txt</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">output_path</span><span class="p">,</span> <span class="n">img_name</span><span class="p">[:</span><span class="o">-</span><span class="mi">4</span><span class="p">]</span> <span class="o">+</span> <span class="s">".txt"</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">anno_txt</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">anno</span> <span class="ow">in</span> <span class="n">anno_in_image</span><span class="p">:</span>
                <span class="n">category</span> <span class="o">=</span> <span class="n">anno</span><span class="p">[</span><span class="s">"category_id"</span><span class="p">]</span>
                <span class="n">bbox_COCO</span> <span class="o">=</span> <span class="n">anno</span><span class="p">[</span><span class="s">"bbox"</span><span class="p">]</span>
                <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">convert_bbox_coco2yolo</span><span class="p">(</span><span class="n">img_width</span><span class="p">,</span> <span class="n">img_height</span><span class="p">,</span> <span class="n">bbox_COCO</span><span class="p">)</span>
                <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="n">x</span><span class="p">:.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="n">y</span><span class="p">:.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="n">w</span><span class="p">:.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="s"> </span><span class="si">{</span><span class="n">h</span><span class="p">:.</span><span class="mi">6</span><span class="n">f</span><span class="si">}</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">"Converting COCO Json to YOLO txt finished!"</span><span class="p">)</span>

<span class="c1"># # test파일에 있는 json파일을 yolo파일로 변환해주었다.
# convert_coco_json_to_yolo_txt("./output/test", "./wine labels_coco/test/_annotations.coco.json")
</span>
<span class="c1"># # train파일에 있는 json파일을 yolo파일로 변환해주었다.
# convert_coco_json_to_yolo_txt("./output/train", "./wine labels_coco/train/_annotations.coco.json")
</span>
<span class="c1"># valid파일에 있는 json파일을 yolo파일로 변환해주었다.
</span><span class="n">convert_coco_json_to_yolo_txt</span><span class="p">(</span><span class="s">"./output/valid"</span><span class="p">,</span> <span class="s">"./wine labels_coco/valid/_annotations.coco.json"</span><span class="p">)</span>       
</code></pre></div></div>
<hr />

<h3 id="2-결과">2) 결과</h3>

<ul>
  <li>COCO 데이터(JSON)을 yolo로 변환 후 train을 돌려서 나온 결과 입니다.</li>
</ul>

<figure>
    <img src="/assets/built/images/msai/confusion_matrix.jpg" title="Confusion Matrix" />    
</figure>
<center>그림1: Confusion matrix</center>

<ul>
  <li>그림1에서 보았을 때, Organic과 sustainable이 아예 잡아내지 못하는 것을 볼 수 있습니다.</li>
</ul>

<figure>
    <img src="/assets/built/images/msai/results.jpg" title="Results" />    
</figure>
<center>그림2: Results</center>

<hr />

<ul>
  <li>test 이미지에 바운딩 박스와 라벨명과 score를 표시한 4가지 결과입니다.</li>
</ul>

<figure>
    <img src="/assets/built/images/msai/test_result1.jpg" title="Test Result1" />    
</figure>
<center>그림3: Test Result1</center>

<figure>
    <img src="/assets/built/images/msai/test_result2.jpg" title="Test Result2" />    
</figure>
<center>그림4: Test Result2</center>

<figure>
    <img src="/assets/built/images/msai/test_result3.jpg" title="Test Result3" />    
</figure>
<center>그림5: Test Result3</center>

<figure>
    <img src="/assets/built/images/msai/test_resul4.jpg" title="Test Result4" />    
</figure>
<center>그림6: Test Result4</center>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            <!--
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to 꿈을 향해 나아가자!</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

                </section>
            
            -->

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="kcw0331" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/kcw0331">kcw0331</a></h4>
                                
                                    <p>Read <a href="/author/kcw0331">more posts</a> by this author.</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/kcw0331">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'http://localhost:4000/tag/msai-miniproject2';
                            var this_page_identifier = '/tag/msai-miniproject2';
                            var this_page_title = 'Msai - 미니프로젝트 2 MMDetection(Wine Label Datasets) and JSON to yolov5';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://xxxxxxxx.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover1.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; 꿈을 향해 나아가자! &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/msai/">Msai</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/tag/msai-studyknow">Msai - 공부하면서 알게된 것 1</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/tag/msai-miniproject3">Msai - 미니프로젝트3 MMDetection(Animal Datasets)</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/tag/msai-pokerimageclassification">Msai - 포커이미지 분류</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/msai/">
                                
                                    See all 6 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/tag/msai-miniproject3">
                <div class="post-card-image" style="background-image: url(/assets/built/images/microsoft_logo.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/tag/msai-miniproject3">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Msai</span>
                            
                        
                    

                    <h2 class="post-card-title">Msai - 미니프로젝트3 MMDetection(Animal Datasets)</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>MSAISchool 공부에 대한 내용을 작성해 보았다. Msai - 1주차(1) Msai - 1주차(2) Msai - 1주차(3) Msai - 포커이미지 분류 Msai - 미니프로젝트 2 MMDetection(Wine Label Datasets) and JSON to yolov5 Msai - 미니프로젝트</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="kcw0331" />
                        
                        <span class="post-card-author">
                            <a href="/author/kcw0331/">kcw0331</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      7 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/tag/paper-paper(RCNNReview)">
                <div class="post-card-image" style="background-image: url(/assets/images/writing.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/tag/paper-paper(RCNNReview)">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Paper</span>
                            
                        
                    

                    <h2 class="post-card-title">Paper - R-CNN 논문 리뷰</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>Paper Review를 작성해 보았다. 

    RCNN - Review
    DeepSort 논문 리뷰




</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="kcw0331" />
                        
                        <span class="post-card-author">
                            <a href="/author/kcw0331/">kcw0331</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      2 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="http://localhost:4000/">
            
            <span>꿈을 향해 나아가자!</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Msai - 미니프로젝트 2 MMDetection(Wine Label Datasets) and JSON to yolov5</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Msai+-+%EB%AF%B8%EB%8B%88%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8+2+MMDetection%28Wine+Label+Datasets%29+and+JSON+to+yolov5&amp;url=https://kcw0331.github.io/tag/msai-miniproject2"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://kcw0331.github.io/tag/msai-miniproject2"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:4000/">꿈을 향해 나아가자!</a> &copy; 2023</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Subscribe to 꿈을 향해 나아가자!</h1>
                <p class="subscribe-overlay-description">Stay up to date! Get all the latest &amp; greatest posts delivered straight to your inbox</p>
                <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

            </div>
        </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-xxxxxxxx-x', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
